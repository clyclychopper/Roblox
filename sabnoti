--// SETTINGS
local plotsFolder = workspace:WaitForChild("Plots")
local Players = game:GetService("Players")
local player = Players.LocalPlayer or Players.PlayerAdded:Wait()
local Content = ""

local WEBHOOK_URL = "https://discord.com/api/webhooks/1475066199342583848/tSwVV5wvoobDvA2cd0ZBJH3bELIEIxvFYswZ_mmVNLwzLgt9xo_k0fF-JT_P9dfw4GXz"

-- ðŸ”¹ GitHub Gist Settings
local GITHUB_TOKEN = "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" -- Your GitHub Personal Access Token
local GIST_ID = "3aadaf473d91f8461122c772fb0e03e2" -- Paste this ID -- Your Gist ID (leave empty to create new)
local GIST_FILENAME = "brainrot_server.json"
local UPDATE_GIST = true -- Set to false to disable Gist updates

local MIN_INCOME = 10000000
local SEND_DELAY = 3
local SCAN_DELAY = 1.5
local PING_MIN = 300000000

-- PING
local PING_MIN = 300000000 -- 300m threshold for ping (change if you want)
local PING_NAMES = {
    ["Rosetti Tualetti"] = true,
    ["Rosey and Teddy"] = true,
    ["Los Amigos"] = true,
    ["Smurf Cat"] = true,
    ["John Pork"] = true,
    ["Dragon Cannelloni"] = true,
    ["Meowl"] = true,
    ["Strawberry Elephant"] = true,
    ["Fragrama and Chocrama"] = true,
    ["Ketupat Kepat"] = true,
    ["Tang Tang Kelentang"] = true,
    ["La Secret Combinasion"] = true,
    ["Los Bros"] = true,
    ["Los Hotspotsitos"] = true,
    ["Spaghetti Tualetti"] = true,
    ["Tralaledon"] = true,
    ["Ketchuru and Masturu"] = true,
    ["Garama and Madundung"] = true,
    ["Nuclearo Dinosauro"] = true,
    ["Los Tacoritas"] = true,
    ["Tictac Sahur"] = true,
    ["La Supreme Combinasion"] = true,
    ["Los Combinasionas"] = true,
    ["La Casa Boo"] = true,
    ["Los Spooky Combinasionas"] = true,
    ["Reinito Sleighito"] = true,
    ["Sammyni Fattini"] = true,
    ["Ketupat Bros"] = true,
    ["Burguro And Fryuro"] = true,
    ["Lavadorito Spinito"] = true,
    ["Hydra Dragon Cannelloni"] = true,
    ["Dragon Gingerini"] = true,
    ["Spooky and Pumpky"] = true,
    ["Cerberus"] = true,
    ["Popcuru and Fizzuru"] = true,
    ["Swaggy Bros"] = true,
    ["Orcaledon"] = true,
    ["Eviledon"] = true,
    ["Cooki and Milki"] = true,
    ["Capitano Moby"] = true,
    ["Headless Horseman"] = true,
    ["Noo my Heart"] = true

}

local globalShouldPing = false

--// YOUR DATA (KEEP YOUR BIG TABLES HERE)
-- Paste your big brainrots list here
local brainrots = {
-- God
"Swaggy Bros",
"Sammyni Fattini",
"La Food Combinasion",
"Los Sekolahs",
"Smurf Cat",
"John Pork",
"Tim Cheese",
"Fizzy Soda",
"Cocofanto Elefanto",
"Antonio",
"Girafa Celestre",
"Gattatino Nyanino",
"Gattatino Neonino",
"Chihuanini Taconini",
"Matteo",
"Tralalero Tralala",
"Los Crocodillitos",
"Tigroligre Frutonni",
"Odin Din Din Dun",
"Orcalero Orcala",
"Money Money Man",
"Alessio",
"Unclito Samito",
"Statutino Libertino",
"Tipi Topi Taco",
"Tralalita Tralala",
"Tukanno Banana",
"Extinct Ballerina",
"Vampira Cappucina",
"Espresso Signora",
"Trenozosturzzo Turbo 3000",
"Bulbito Bandito Traktorito",
"Urubini Flamenguini",
"Jacko Jack Jack",
"Trippi Troppi Troppa Trippa",
"Capi Taco",
"Los Chihuaninis",
"Gattito Tacoto",
"Las Capuchinas",
"Ballerino Lololo",
"Los Tungtungtungcitos",
"Pakrahmatmamat",
"Ballerina Peppermintina",
"Piccione Macchina",
"Pakrahmatmatina",
"Los Bombinitos",
"Tractoro Dinosauro",
"Brr Es Teh Patipum",
"Cacasito Satalito",
"Orcalita Orcala",
"Aquanaut",
"Tartaruga Cisterna",
"Snailenzo",
"Corn Corn Corn Sahur",
"Squalanana",
"Mummy Ambalabu",
"Los Orcalitos",
"Dug Dug Dug",
"Ginger Globo",
"Yeti Claus",
"Crabbo Limonetta",
"Los Tipi Tacos",
"Tootini Shrimpini",
"Granchiello Spiritell",
"Frio Ninja",
"Piccionetta Macchina",
"Boba Panda",
"Mastodontico Telepiedone",
"Los Gattitos",
"Bambu Bambu Sahur",
"Chrismasmamat",
"Anpali Babel",
"Cappuccino Clownino",
"Luv Luv Luv",
"Bombardini Tortinii",
"Brasilini Berimbini",
"Belula Beluga",
"Krupuk Pagi Pagi",
"Skull Skull Skull",
"Cocoa Assassino",
"Tentacolo Tecnico",
"Ginger Cisterna",
"Dolphini Jetskini",
"Pop Pop Sahur",
"Noo La Polizia",
"Karkerheart Luvkur",

-- SECRET BRAINROTS
"La Taco Combinasion",
"La Vacca Saturno Saturnita",
"Pandanini Frostini",
"Bisonte Giuppitere",
"Blackhole Goat",
"Jackorilla",
"Agarrini Ia Palini",
"Chachechi",
"Karkerkar Kurkur",
"Los Tortus",
"Los Matteos",
"Sammyni Spyderini",
"Trenostruzzo Turbo 4000",
"Chimpanzini Spiderini",
"Boatito Auratito",
"Fragola La La La",
"Dul Dul Dul",
"La Vacca Prese Presente",
"Frankentteo",
"Los Trios",
"Karker Sahur",
"Torrtuginni Dragonfrutini",
"Los Tralaleritos",
"Zombie Tralala",
"La Cucaracha",
"Vulturino Skeletono",
"Guerriro Digitale",
"Extinct Tralalero",
"Yess My Examine",
"Extinct Matteo",
"Las Tralaleritas",
"Rocco Disco",
"Reindeer Tralala",
"Las Vaquitas Saturnitas",
"Pumpkin Spyderini",
"Job Job Job Sahur",
"Los Karkeritos",
"Graipuss Medussi",
"Santteo",
"La Vacca Jacko Linterino",
"Triplito Tralaleritos",
"Trickolino",
"Giftini Spyderini",
"Los Spyderinis",
"Love Love Love Sahur",
"Perrito Burrito",
"1x1x1x1",
"Los Cucarachas",
"Please My Present",
"Cuadramat and Pakrahmatmamat",
"Los Jobcitos",
"Nooo My Hotspot",
"Pot Hotspot",
"Noo My Examine",
"Telemorte",
"La Sahur Combinasion",
"List List List Sahur",
"To To To Sahur",
"Pirulitoita Bicicletaire",
"25",
"Santa Hotspot",
"Horegini Boom",
"Quesadilla Crocodila",
"Pot Pumpkin",
"Naughty Naughty",
"Cupid Cupid Sahur",
"Ho Ho Ho Sahur",
"Mi Gatito",
"Chicleteira Bicicleteira",
"Cupid Hotspot",
"Spaghetti Tualetti",
"Esok Sekolah",
"Quesadillo Vampiro",
"Brunito Marsito",
"Chill Puppy",
"Burrito Bandito",
"Chicleteirina Bicicleteirina",
"Los Quesadillas",
"Bunito Bunito Spinito",
"Noo My Candy",
"Los Nooo My Hotspotsitos",
"La Grande Combinassion",
"Rang Ring Bus",
"Guest 666",
"Los Mi Gatitos",
"Los Chicleteiras",
"67",
"Donkeyturbo Express",
"Mariachi Corazoni",
"Los Burritos",
"Los 25",
"Swag Soda",
"Noo my Heart",
"Chimnino",
"Los Combinasionas",
"Chicleteira Noelteira",
"Fishino Clownino",
"Tacorita Bicicleta",
"Spinny Hammy",
"Nuclearo Dinosauro",
"Las Sis",
"Chicleteira Cupideira",
"La Karkerkar Combinasion",
"Chillin Chili",
"Chipso and Queso",
"Money Money Reindeer",
"Money Money Puggy",
"Celularcini Viciosini",
"Los Planitos",
"Los Mobilis",
"Los 67",
"Mieteteira Bicicleteira",
"Tuff Toucan",
"La Spooky Grande",
"Los Spooky Combinasionas",
"Los Candies",
"Los Hotspositos",
"Los Jolly Combinasionas",
"Los Puggies",
"W or L",
"Tralalalaledon",
"La Extinct Grande",
"Tralaledon",
"La Jolly Grande",
"Los Primos",
"Bacuru and Egguru",
"Eviledon",
"Los Tacoritas",
"Lovin Rose",
"Tang Tang Kelentang",
"Ketupat Kepat",
"Los Bros",
"Tictac Sahur",
"La Romantic Grande",
"Gingerat Gerat",
"Orcaledon",
"Ketchuru and Masturu",
"Jolly Jolly Sahur",
"Garama and Madundung",
"Rosetti Tualetti",
"Festive 67",
"Love Love Bear",
"La Ginger Sekolah",
"Spooky and Pumpky",
"Lavadorito Spinito",
"Los Spaghettis",
"La Casa Boo",
"Fragrama and Chocrama",
"La Secret Combinasion",
"Reinito Sleighito",
"Ketupat Bros",
"Burguro And Fryuro",
"Cooki and Milki",
"Capitano Moby",
"Rosey and Teddy",
"Popcuru and Fizzuru",
"Cerberus",
"La Supreme Combinasion",
"Dragon Cannelloni",
"Dragon Gingerini",
"Headless Horseman",
"Hydra Dragon Cannelloni",

-- OGS

"Skibidi Toilet",
"Meowl",
"Strawberry Elephant",


}

local RARITY_COLOR = {
    ["God"] = 0xFFD166,
    ["Secret"] = 0xEF476F,
    ["OG"] = 0x118AB2,
    ["Burat"] = 0x06D6A0,
    ["Unknown"] = 0x9E9E9E
}

local RARITY_ORDER = {
    ["OG"] = 5,
    ["Secret"] = 4,
    ["God"] = 3,
    ["Burat"] = 2,
    ["Unknown"] = 1
}

local rarityByName = {

    ["Swaggy Bros"] = "Secret",
    ["Los Amigos"] = "Secret",
    ["Sammyni Fattini"] = "Secret",
    ["Los Sekolahs"] = "Secret",
    ["La Food Combinasion"] = "Secret",
    

    --GOD
    ["Tim Cheese"] = "Burat",
    ["Fizzy Soda"] = "God",
    ["Cocofanto Elefanto"] = "God",
    ["Antonio"] = "God",
    ["Girafa Celestre"] = "God",
    ["Gattatino Nyanino"] = "God",
    ["Gattatino Neonino"] = "God",
    ["Chihuanini Taconini"] = "God",
    ["Matteo"] = "God",
    ["Tralalero Tralala"] = "God",
    ["Los Crocodillitos"] = "God",
    ["Tigroligre Frutonni"] = "God",
    ["Odin Din Din Dun"] = "God",
    ["Orcalero Orcala"] = "God",
    ["Money Money Man"] = "God",
    ["Alessio"] = "God",
    ["Unclito Samito"] = "God",
    ["Statutino Libertino"] = "God",
    ["Tipi Topi Taco"] = "God",
    ["Tralalita Tralala"] = "God",
    ["Tukanno Banana"] = "God",
    ["Extinct Ballerina"] = "God",
    ["Vampira Cappucina"] = "God",
    ["Espresso Signora"] = "God",
    ["Trenozosturzzo Turbo 3000"] = "God",
    ["Bulbito Bandito Traktorito"] = "God",
    ["Urubini Flamenguini"] = "God",
    ["Jacko Jack Jack"] = "God",
    ["Trippi Troppi Troppa Trippa"] = "God",
    ["Capi Taco"] = "God",
    ["Los Chihuaninis"] = "God",
    ["Gattito Tacoto"] = "God",
    ["Las Capuchinas"] = "God",
    ["Ballerino Lololo"] = "God",
    ["Los Tungtungtungcitos"] = "God",
    ["Pakrahmatmamat"] = "God",
    ["Ballerina Peppermintina"] = "God",
    ["Piccione Macchina"] = "God",
    ["Pakrahmatmatina"] = "God",
    ["Los Bombinitos"] = "God",
    ["Tractoro Dinosauro"] = "God",
    ["Brr Es Teh Patipum"] = "God",
    ["Cacasito Satalito"] = "God",
    ["Orcalita Orcala"] = "God",
    ["Aquanaut"] = "God",
    ["Tartaruga Cisterna"] = "God",
    ["Snailenzo"] = "God",
    ["Corn Corn Corn Sahur"] = "God",
    ["Squalanana"] = "God",
    ["Mummy Ambalabu"] = "God",
    ["Los Orcalitos"] = "God",
    ["Dug Dug Dug"] = "God",
    ["Ginger Globo"] = "God",
    ["Yeti Claus"] = "God",
    ["Crabbo Limonetta"] = "God",
    ["Los Tipi Tacos"] = "God",
    ["Tootini Shrimpini"] = "God",
    ["Granchiello Spiritell"] = "God",
    ["Frio Ninja"] = "God",
    ["Piccionetta Macchina"] = "God",
    ["Boba Panda"] = "God",
    ["Mastodontico Telepiedone"] = "God",
    ["Los Gattitos"] = "God",
    ["Bambu Bambu Sahur"] = "God",
    ["Chrismasmamat"] = "God",
    ["Anpali Babel"] = "God",
    ["Cappuccino Clownino"] = "God",
    ["Luv Luv Luv"] = "God",
    ["Bombardini Tortinii"] = "God",
    ["Brasilini Berimbini"] = "God",
    ["Belula Beluga"] = "God",
    ["Krupuk Pagi Pagi"] = "God",
    ["Skull Skull Skull"] = "God",
    ["Cocoa Assassino"] = "God",
    ["Tentacolo Tecnico"] = "God",
    ["Ginger Cisterna"] = "God",
    ["Dolphini Jetskini"] = "God",
    ["Pop Pop Sahur"] = "God",
    ["Noo La Polizia"] = "God",
    ["Karkerheart Luvkur"] = "God",

    --SECRET
    ["La Taco Combinasion"] = "Secret",
    ["La Vacca Saturno Saturnita"] = "Secret",
    ["Pandanini Frostini"] = "Secret",
    ["Bisonte Giuppitere"] = "Secret",
    ["Blackhole Goat"] = "Secret",
    ["Jackorilla"] = "Secret",
    ["Agarrini Ia Palini"] = "Secret",
    ["Chachechi"] = "Secret",
    ["Karkerkar Kurkur"] = "Secret",
    ["Los Tortus"] = "Secret",
    ["Los Matteos"] = "Secret",
    ["Sammyni Spyderini"] = "Secret",
    ["Trenostruzzo Turbo 4000"] = "Secret",
    ["Chimpanzini Spiderini"] = "Secret",
    ["Boatito Auratito"] = "Secret",
    ["Fragola La La La"] = "Secret",
    ["Dul Dul Dul"] = "Secret",
    ["La Vacca Prese Presente"] = "Secret",
    ["Frankentteo"] = "Secret",
    ["Los Trios"] = "Secret",
    ["Karker Sahur"] = "Secret",
    ["Torrtuginni Dragonfrutini"] = "Secret",
    ["Los Tralaleritos"] = "Secret",
    ["Zombie Tralala"] = "Secret",
    ["La Cucaracha"] = "Secret",
    ["Vulturino Skeletono"] = "Secret",
    ["Guerriro Digitale"] = "Secret",
    ["Extinct Tralalero"] = "Secret",
    ["Yess My Examine"] = "Secret",
    ["Extinct Matteo"] = "Secret",
    ["Las Tralaleritas"] = "Secret",
    ["Rocco Disco"] = "Secret",
    ["Reindeer Tralala"] = "Secret",
    ["Las Vaquitas Saturnitas"] = "Secret",
    ["Pumpkin Spyderini"] = "Secret",
    ["Job Job Job Sahur"] = "Secret",
    ["Los Karkeritos"] = "Secret",
    ["Graipuss Medussi"] = "Secret",
    ["Santteo"] = "Secret",
    ["La Vacca Jacko Linterino"] = "Secret",
    ["Triplito Tralaleritos"] = "Secret",
    ["Trickolino"] = "Secret",
    ["Giftini Spyderini"] = "Secret",
    ["Los Spyderinis"] = "Secret",
    ["Love Love Love Sahur"] = "Secret",
    ["Perrito Burrito"] = "Secret",
    ["1x1x1x1"] = "Secret",
    ["Los Cucarachas"] = "Secret",
    ["Please My Present"] = "Secret",
    ["Cuadramat and Pakrahmatmamat"] = "Secret",
    ["Los Jobcitos"] = "Secret",
    ["Nooo My Hotspot"] = "Secret",
    ["Pot Hotspot"] = "Secret",
    ["Noo My Examine"] = "Secret",
    ["Telemorte"] = "Secret",
    ["La Sahur Combinasion"] = "Secret",
    ["List List List Sahur"] = "Secret",
    ["To To To Sahur"] = "Secret",
    ["Pirulitoita Bicicletaire"] = "Secret",
    ["25"] = "Secret",
    ["Santa Hotspot"] = "Secret",
    ["Horegini Boom"] = "Secret",
    ["Quesadilla Crocodila"] = "Secret",
    ["Pot Pumpkin"] = "Secret",
    ["Naughty Naughty"] = "Secret",
    ["Cupid Cupid Sahur"] = "Secret",
    ["Ho Ho Ho Sahur"] = "Secret",
    ["Mi Gatito"] = "Secret",
    ["Chicleteira Bicicleteira"] = "Secret",
    ["Cupid Hotspot"] = "Secret",
    ["Spaghetti Tualetti"] = "Secret",
    ["Esok Sekolah"] = "Secret",
    ["Quesadillo Vampiro"] = "Secret",
    ["Brunito Marsito"] = "Secret",
    ["Chill Puppy"] = "Secret",
    ["Burrito Bandito"] = "Secret",
    ["Chicleteirina Bicicleteirina"] = "Secret",
    ["Los Quesadillas"] = "Secret",
    ["Bunito Bunito Spinito"] = "Secret",
    ["Noo My Candy"] = "Secret",
    ["Los Nooo My Hotspotsitos"] = "Secret",
    ["La Grande Combinassion"] = "Secret",
    ["Rang Ring Bus"] = "Secret",
    ["Guest 666"] = "Secret",
    ["Los Mi Gatitos"] = "Secret",
    ["Los Chicleteiras"] = "Secret",
    ["67"] = "Secret",
    ["Donkeyturbo Express"] = "Secret",
    ["Mariachi Corazoni"] = "Secret",
    ["Los Burritos"] = "Secret",
    ["Los 25"] = "Secret",
    ["Swag Soda"] = "Secret",
    ["Noo my Heart"] = "Secret",
    ["Chimnino"] = "Secret",
    ["Los Combinasionas"] = "Secret",
    ["Chicleteira Noelteira"] = "Secret",
    ["Fishino Clownino"] = "Secret",
    ["Tacorita Bicicleta"] = "Secret",
    ["Spinny Hammy"] = "Secret",
    ["Nuclearo Dinosauro"] = "Secret",
    ["Las Sis"] = "Secret",
    ["Chicleteira Cupideira"] = "Secret",
    ["La Karkerkar Combinasion"] = "Secret",
    ["Chillin Chili"] = "Secret",
    ["Chipso and Queso"] = "Secret",
    ["Money Money Reindeer"] = "Secret",
    ["Money Money Puggy"] = "Secret",
    ["Celularcini Viciosini"] = "Secret",
    ["Los Planitos"] = "Secret",
    ["Los Mobilis"] = "Secret",
    ["Los 67"] = "Secret",
    ["Mieteteira Bicicleteira"] = "Secret",
    ["Tuff Toucan"] = "Secret",
    ["La Spooky Grande"] = "Secret",
    ["Los Spooky Combinasionas"] = "Secret",
    ["Los Candies"] = "Secret",
    ["Los Hotspositos"] = "Secret",
    ["Los Jolly Combinasionas"] = "Secret",
    ["Los Puggies"] = "Secret",
    ["W or L"] = "Secret",
    ["Tralalalaledon"] = "Secret",
    ["La Extinct Grande"] = "Secret",
    ["Tralaledon"] = "Secret",
    ["La Jolly Grande"] = "Secret",
    ["Los Primos"] = "Secret",
    ["Bacuru and Egguru"] = "Secret",
    ["Eviledon"] = "Secret",
    ["Los Tacoritas"] = "Secret",
    ["Lovin Rose"] = "Secret",
    ["Tang Tang Kelentang"] = "Secret",
    ["Ketupat Kepat"] = "Secret",
    ["Los Bros"] = "Secret",
    ["Tictac Sahur"] = "Secret",
    ["La Romantic Grande"] = "Secret",
    ["Gingerat Gerat"] = "Secret",
    ["Orcaledon"] = "Secret",
    ["Ketchuru and Masturu"] = "Secret",
    ["Jolly Jolly Sahur"] = "Secret",
    ["Garama and Madundung"] = "Secret",
    ["Rosetti Tualetti"] = "Secret",
    ["Festive 67"] = "Secret",
    ["Love Love Bear"] = "Secret",
    ["La Ginger Sekolah"] = "Secret",
    ["Spooky and Pumpky"] = "Secret",
    ["Lavadorito Spinito"] = "Secret",
    ["Los Spaghettis"] = "Secret",
    ["La Casa Boo"] = "Secret",
    ["Fragrama and Chocrama"] = "Secret",
    ["La Secret Combinasion"] = "Secret",
    ["Reinito Sleighito"] = "Secret",
    ["Ketupat Bros"] = "Secret",
    ["Burguro And Fryuro"] = "Secret",
    ["Cooki and Milki"] = "Secret",
    ["Capitano Moby"] = "Secret",
    ["Rosey and Teddy"] = "Secret",
    ["Popcuru and Fizzuru"] = "Secret",
    ["Cerberus"] = "Secret",
    ["La Supreme Combinasion"] = "Secret",
    ["Dragon Cannelloni"] = "Secret",
    ["Dragon Gingerini"] = "Secret",
    ["Headless Horseman"] = "Secret",
    ["Hydra Dragon Cannelloni"] = "Secret",

    ["Skibidi Toilet"] = "OG",
    ["Meowl"] = "OG",
    ["Strawberry Elephant"] = "OG"

}

local costByName = {

    ["Swaggy Bros"] = 7000000000,
    ["Los Amigos"] = 55000000000,
    ["Sammyni Fattini"] = 20000000000,
    ["La Food Combinasion"] = 30000000,
    ["Los Sekolahs"] = 45000000000,
    --og
    ["Smurf Cat"] = 999999999999,
    ["John Pork"] = 999999999999,

    
    --GOD
    ["Tim Cheese"] = 500,
    ["Fizzy Soda"] = 4900000,
    ["Cocofanto Elefanto"] = 5000000,
    ["Antonio"] = 6000000,
    ["Girafa Celestre"] = 7500000,
    ["Gattatino Nyanino"] = 7500000,
    ["Gattatino Neonino"] = 7500000,
    ["Chihuanini Taconini"] = 8500000,
    ["Matteo"] = 10000000,
    ["Tralalero Tralala"] = 10000000,
    ["Los Crocodillitos"] = 12500000,
    ["Tigroligre Frutonni"] = 15000000,
    ["Boatito Auratito"] = 525000,
    ["Odin Din Din Dun"] = 15000000,
    ["Orcalero Orcala"] = 15000000,
    ["Money Money Man"] = 17500000,
    ["Alessio"] = 17500000,
    ["Unclito Samito"] = 20000000,
    ["Statutino Libertino"] = 20000000,
    ["Tipi Topi Taco"] = 20000000,
    ["Tralalita Tralala"] = 20000000,
    ["Tukanno Banana"] = 22500000,
    ["Extinct Ballerina"] = 23500000,
    ["Vampira Cappucina"] = 24500000,
    ["Espresso Signora"] = 25000000,
    ["Trenozosturzzo Turbo 3000"] = 25000000,
    ["Bulbito Bandito Traktorito"] = 25000000,
    ["Urubini Flamenguini"] = 30000000,
    ["Jacko Jack Jack"] = 30000000,
    ["Trippi Troppi Troppa Trippa"] = 30000000,
    ["Capi Taco"] = 31000000,
    ["Los Chihuaninis"] = 32000000,
    ["Gattito Tacoto"] = 32500000,
    ["Las Capuchinas"] = 32500000,
    ["Ballerino Lololo"] = 35000000,
    ["Los Tungtungtungcitos"] = 37500000,
    ["Pakrahmatmamat"] = 37500000,
    ["Ballerina Peppermintina"] = 37500000,
    ["Piccione Macchina"] = 40000000,
    ["Pakrahmatmatina"] = 40500000,
    ["Los Bombinitos"] = 42500000,
    ["Tractoro Dinosauro"] = 42500000,
    ["Brr Es Teh Patipum"] = 45000000,
    ["Cacasito Satalito"] = 45000000,
    ["Orcalita Orcala"] = 45000000,
    ["Aquanaut"] = 45500000,
    ["Tartaruga Cisterna"] = 45000000,
    ["Snailenzo"] = 45000000,
    ["Corn Corn Corn Sahur"] = 45000000,
    ["Squalanana"] = 45000000,
    ["Mummy Ambalabu"] = 45000000,
    ["Los Orcalitos"] = 45000000,
    ["Dug Dug Dug"] = 45500000,
    ["Ginger Globo"] = 45700000,
    ["Yeti Claus"] = 45700000,
    ["Crabbo Limonetta"] = 46000000,
    ["Los Tipi Tacos"] = 46000000,
    ["Tootini Shrimpini"] = 46000000,
    ["Granchiello Spiritell"] = 46000000,
    ["Frio Ninja"] = 46500000,
    ["Piccionetta Macchina"] = 47000000,
    ["Boba Panda"] = 47000000,
    ["Mastodontico Telepiedone"] = 47500000,
    ["Los Gattitos"] = 47500000,
    ["Bambu Bambu Sahur"] = 47500000,
    ["Chrismasmamat"] = 47700000,
    ["Anpali Babel"] = 48000000,
    ["Cappuccino Clownino"] = 48000000,
    ["Luv Luv Luv"] = 48300000,
    ["Bombardini Tortinii"] = 50000000,
    ["Brasilini Berimbini"] = 55500000,
    ["Belula Beluga"] = 60000000,
    ["Krupuk Pagi Pagi"] = 60000000,
    ["Skull Skull Skull"] = 60000000,
    ["Cocoa Assassino"] = 60000000,
    ["Tentacolo Tecnico"] = 62500000,
    ["Ginger Cisterna"] = 63500000,
    ["Dolphini Jetskini"] = 64500000,
    ["Pop Pop Sahur"] = 65000000,
    ["Noo La Polizia"] = 67000000,
    ["Karkerheart Luvkur"] = 67500000,

    --SECRET

    ["La Taco Combinasion"] = 5000000000,
    ["La Vacca Saturno Saturnita"] = 50000000,
    ["Pandanini Frostini"] = 64000000,
    ["Bisonte Giuppitere"] = 75000000,
    ["Blackhole Goat"] = 75000000,
    ["Jackorilla"] = 80000000,
    ["Agarrini Ia Palini"] = 80000000,
    ["Chachechi"] = 85000000,

    ["Karkerkar Kurkur"] = 100000000,
    ["Los Tortus"] = 100000000,
    ["Los Matteos"] = 100000000,
    ["Sammyni Spyderini"] = 100000000,
    ["Trenostruzzo Turbo 4000"] = 100000000,
    ["Chimpanzini Spiderini"] = 100000000,
    ["Los Tralaleritos"] = 100000000,
    ["Zombie Tralala"] = 100000000,

    ["La Cucaracha"] = 110000000,
    ["Vulturino Skeletono"] = 110000000,

    ["Guerriro Digitale"] = 120000000,

    ["Fragola La La La"] = 125000000,
    ["Extinct Tralalero"] = 125000000,

    ["Yess My Examine"] = 130000000,

    ["Extinct Matteo"] = 140000000,

    ["Dul Dul Dul"] = 150000000,
    ["Las Tralaleritas"] = 150000000,
    ["Rocco Disco"] = 150000000,

    ["La Vacca Prese Presente"] = 160000000,
    ["Reindeer Tralala"] = 160000000,
    ["Las Vaquitas Saturnitas"] = 160000000,

    ["Pumpkin Spyderini"] = 165000000,

    ["Frankentteo"] = 175000000,
    ["Los Trios"] = 175000000,
    ["Job Job Job Sahur"] = 175000000,

    ["Karker Sahur"] = 185000000,

    ["Los Karkeritos"] = 200000000,
    ["Graipuss Medussi"] = 200000000,

    ["Santteo"] = 210000000,

    ["La Vacca Jacko Linterino"] = 225000000,

    ["Triplito Tralaleritos"] = 230000000,

    ["Trickolino"] = 235000000,

    ["Giftini Spyderini"] = 240000000,

    ["Los Spyderinis"] = 250000000,
    ["Love Love Love Sahur"] = 250000000,
    ["Perrito Burrito"] = 250000000,

    ["1x1x1x1"] = 255500000,

    ["Los Cucarachas"] = 300000000,
    ["Please My Present"] = 350000000,
    ["Cuadramat and Pakrahmatmamat"] = 400000000,

    ["Los Jobcitos"] = 500000000,
    ["Torrtuginni Dragonfrutini"] = 500000000,
    ["Nooo My Hotspot"] = 500000000,
    ["Pot Hotspot"] = 500000000,

    ["Noo My Examine"] = 525000000,

    ["Telemorte"] = 550000000,
    ["La Sahur Combinasion"] = 550000000,
    ["List List List Sahur"] = 550000000,

    ["To To To Sahur"] = 575000000,

    ["Pirulitoita Bicicletaire"] = 600000000,
    ["25"] = 600000000,

    ["Santa Hotspot"] = 625000000,

    ["Horegini Boom"] = 650000000,

    ["Quesadilla Crocodila"] = 700000000,
    ["Pot Pumpkin"] = 700000000,
    ["Naughty Naughty"] = 700000000,

    ["Cupid Cupid Sahur"] = 715000000,

    ["Ho Ho Ho Sahur"] = 725000000,
    ["Mi Gatito"] = 725000000,

    ["Chicleteira Bicicleteira"] = 750000000,
    ["Cupid Hotspot"] = 750000000,
    ["Spaghetti Tualetti"] = 750000000,
    ["Esok Sekolah"] = 750000000,
    ["Quesadillo Vampiro"] = 750000000,
    ["Brunito Marsito"] = 750000000,

    ["Chill Puppy"] = 800000000,
    ["Burrito Bandito"] = 800000000,

    ["Chicleteirina Bicicleteirina"] = 850000000,

    ["Los Quesadillas"] = 875000000,

    ["Bunito Bunito Spinito"] = 900000000,
    ["Noo My Candy"] = 900000000,

    ["Los Nooo My Hotspotsitos"] = 1000000000,
    ["La Grande Combinassion"] = 1000000000,

    ["Rang Ring Bus"] = 1100000000,
    ["Guest 666"] = 1100000000,

    ["Los Mi Gatitos"] = 1200000000,
    ["Los Chicleteiras"] = 1200000000,
    ["67"] = 1200000000,
    ["Donkeyturbo Express"] = 1200000000,
    ["Mariachi Corazoni"] = 1200000000,

    ["Los Burritos"] = 1400000000,
    ["Los 25"] = 1500000000,

    ["Swag Soda"] = 1800000000,
    ["Noo my Heart"] = 1800000000,

    ["Chimnino"] = 1900000000,

    ["Los Combinasionas"] = 2000000000,
    ["Chicleteira Noelteira"] = 2000000000,

    ["Fishino Clownino"] = 2100000000,

    ["Tacorita Bicicleta"] = 2200000000,

    ["Spinny Hammy"] = 2300000000,

    ["Nuclearo Dinosauro"] = 2500000000,
    ["Las Sis"] = 2500000000,
    ["Chicleteira Cupideira"] = 2500000000,
    ["La Karkerkar Combinasion"] = 2500000000,
    ["Chillin Chili"] = 2500000000,
    ["Chipso and Queso"] = 2500000000,
    ["Money Money Reindeer"] = 2500000000,

    ["Money Money Puggy"] = 2600000000,
    ["Celularcini Viciosini"] = 2600000000,

    ["Los Planitos"] = 2700000000,
    ["Los Mobilis"] = 2700000000,
    ["Los 67"] = 2700000000,
    ["Mieteteira Bicicleteira"] = 2700000000,
    ["Tuff Toucan"] = 2700000000,

    ["La Spooky Grande"] = 2900000000,

    ["Los Spooky Combinasionas"] = 3000000000,
    ["Los Candies"] = 3000000000,
    ["Los Hotspositos"] = 3000000000,
    ["Los Jolly Combinasionas"] = 3000000000,
    ["Los Puggies"] = 3000000000,
    ["W or L"] = 3000000000,
    ["Tralalalaledon"] = 3000000000,

    ["La Extinct Grande"] = 3200000000,

    ["Tralaledon"] = 3500000000,
    ["La Jolly Grande"] = 3500000000,

    ["Los Primos"] = 3700000000,

    ["Bacuru and Egguru"] = 3800000000,
    ["Eviledon"] = 3800000000,

    ["Los Tacoritas"] = 4000000000,

    ["Lovin Rose"] = 4200000000,

    ["Tang Tang Kelentang"] = 4500000000,

    ["Ketupat Kepat"] = 5000000000,

    ["Los Bros"] = 6000000000,
    ["Tictac Sahur"] = 6000000000,

    ["La Romantic Grande"] = 7000000000,
    ["Gingerat Gerat"] = 7000000000,
    ["Orcaledon"] = 7000000000,

    ["Ketchuru and Masturu"] = 7500000000,

    ["Jolly Jolly Sahur"] = 8000000000,

    ["Garama and Madundung"] = 10000000000,
    ["Rosetti Tualetti"] = 10000000000,

    ["Festive 67"] = 16000000000,

    ["Love Love Bear"] = 23000000000,
    ["La Ginger Sekolah"] = 23000000000,

    ["Spooky and Pumpky"] = 25000000000,

    ["Lavadorito Spinito"] = 30000000000,

    ["Los Spaghettis"] = 40000000000,
    ["La Casa Boo"] = 40000000000,
    ["Fragrama and Chocrama"] = 40000000000,

    ["La Secret Combinasion"] = 50000000000,

    ["Reinito Sleighito"] = 60000000000,

    ["Ketupat Bros"] = 65000000000,

    ["Burguro And Fryuro"] = 75000000000,

    ["Cooki and Milki"] = 100000000000,

    ["Capitano Moby"] = 125000000000,
    ["Rosey and Teddy"] = 130000000000,
    ["Popcuru and Fizzuru"] = 135000000000,

    ["Cerberus"] = 150000000000,

    ["La Supreme Combinasion"] = 200000000000,

    ["Dragon Cannelloni"] = 250000000000,
    ["Dragon Gingerini"] = 300000000000,
    ["Headless Horseman"] = 325000000000,
    ["Hydra Dragon Cannelloni"] = 350000000000,

    ["Skibidi Toilet"] = 400000000000,
    ["Meowl"] = 500000000000,
    ["Strawberry Elephant"] = 750000000000
}

local incomeByName = {
    ["Swaggy Bros"] = 40000000,
    ["Los Amigos"] = 130000000,
    ["Sammyni Fattini"] = 70000000,
    ["John Pork"] = 999999999999999,
    ["Smurf Cat"] = 999999999999999,

    ["La Food Combinasion"] = 90000000,
    ["Los Sekolahs"] = 110000000,
    --GOD
    ["Tim Cheese"] = 20,
    ["Fizzy Soda"] = 17200,
    ["Cocofanto Elefanto"] = 10000,
    ["Antonio"] = 18500,
    ["Girafa Celestre"] = 20000,
    ["Gattatino Nyanino"] = 35000,
    ["Gattatino Neonino"] = 20000,
    ["Chihuanini Taconini"] = 45000,
    ["Matteo"] = 50000,
    ["Tralalero Tralala"] = 50000,
    ["Los Crocodillitos"] = 55000,
    ["Tigroligre Frutonni"] = 60000,
    ["Odin Din Din Dun"] = 75000,
    ["Orcalero Orcala"] = 100000,
    ["Money Money Man"] = 65000,
    ["Alessio"] = 65000,
    ["Unclito Samito"] = 65000,
    ["Statutino Libertino"] = 75000,
    ["Tipi Topi Taco"] = 75000,
    ["Tralalita Tralala"] = 100000,
    ["Tukanno Banana"] = 100000,
    ["Extinct Ballerina"] = 125000,
    ["Vampira Cappucina"] = 125000,
    ["Espresso Signora"] = 70000,
    ["Trenozosturzzo Turbo 3000"] = 150000,
    ["Bulbito Bandito Traktorito"] = 205000,
    ["Urubini Flamenguini"] = 150000,
    ["Jacko Jack Jack"] = 150000,
    ["Trippi Troppi Troppa Trippa"] = 175000,
    ["Capi Taco"] = 155000,
    ["Los Chihuaninis"] = 160000,
    ["Gattito Tacoto"] = 165000,
    ["Las Capuchinas"] = 185000,
    ["Ballerino Lololo"] = 200000,
    ["Los Tungtungtungcitos"] = 210000,
    ["Pakrahmatmamat"] = 215000,
    ["Ballerina Peppermintina"] = 215000,
    ["Piccione Macchina"] = 225000,
    ["Pakrahmatmatina"] = 225000,
    ["Los Bombinitos"] = 220000,
    ["Tractoro Dinosauro"] = 230000,
    ["Brr Es Teh Patipum"] = 225000,
    ["Cacasito Satalito"] = 240000,
    ["Orcalita Orcala"] = 240000,
    ["Aquanaut"] = 245000,
    ["Tartaruga Cisterna"] = 250000,
    ["Snailenzo"] = 250000,
    ["Corn Corn Corn Sahur"] = 250000,
    ["Squalanana"] = 250000,
    ["Mummy Ambalabu"] = 250000,
    ["Los Orcalitos"] = 310000,
    ["Dug Dug Dug"] = 255000,
    ["Ginger Globo"] = 257500,
    ["Yeti Claus"] = 267500,
    ["Crabbo Limonetta"] = 230000,
    ["Los Tipi Tacos"] = 260000,
    ["Tootini Shrimpini"] = 260000,
    ["Granchiello Spiritell"] = 260000,
    ["Frio Ninja"] = 265000,
    ["Piccionetta Macchina"] = 270000,
    ["Boba Panda"] = 270000,
    ["Mastodontico Telepiedone"] = 275000,
    ["Los Gattitos"] = 275000,
    ["Bambu Bambu Sahur"] = 275000,
    ["Chrismasmamat"] = 277500,
    ["Anpali Babel"] = 280000,
    ["Cappuccino Clownino"] = 285000,
    ["Luv Luv Luv"] = 282000,
    ["Bombardini Tortinii"] = 225000,
    ["Brasilini Berimbini"] = 285000,
    ["Belula Beluga"] = 290000,
    ["Krupuk Pagi Pagi"] = 290000,
    ["Skull Skull Skull"] = 290000,
    ["Cocoa Assassino"] = 291000,
    ["Tentacolo Tecnico"] = 295000,
    ["Ginger Cisterna"] = 293500,
    ["Dolphini Jetskini"] = 294500,
    ["Pop Pop Sahur"] = 295000,
    ["Noo La Polizia"] = 280000,
    ["Karkerheart Luvkur"] = 297500,

    --SECRET
    ["La Taco Combinasion"] = 35000000,
    ["La Vacca Saturno Saturnita"] = 300000,
    ["Pandanini Frostini"] = 294000,
    ["Bisonte Giuppitere"] = 300000,
    ["Blackhole Goat"] = 400000,
    ["Jackorilla"] = 315000,
    ["Agarrini Ia Palini"] = 425000,
    ["Chachechi"] = 400000,
    ["Karkerkar Kurkur"] = 275000,
    ["Los Tortus"] = 500000,
    ["Los Matteos"] = 300000,
    ["Sammyni Spyderini"] = 300000,
    ["Trenostruzzo Turbo 4000"] = 310000,
    ["Chimpanzini Spiderini"] = 325000,
    ["Boatito Auratito"] = 525000,
    ["Fragola La La La"] = 450000,
    ["Dul Dul Dul"] = 375000,
    ["La Vacca Prese Presente"] = 600000,
    ["Frankentteo"] = 700000,
    ["Los Trios"] = 700000,
    ["Karker Sahur"] = 725000,
    ["Torrtuginni Dragonfrutini"] = 350000,
    ["Los Tralaleritos"] = 500000,
    ["Zombie Tralala"] = 500000,
    ["La Cucaracha"] = 475000,
    ["Vulturino Skeletono"] = 500000,
    ["Guerriro Digitale"] = 550000,
    ["Extinct Tralalero"] = 450000,
    ["Yess My Examine"] = 575000,
    ["Extinct Matteo"] = 625000,
    ["Las Tralaleritas"] = 650000,
    ["Rocco Disco"] = 650000,
    ["Reindeer Tralala"] = 600000,
    ["Las Vaquitas Saturnitas"] = 750000,
    ["Pumpkin Spyderini"] = 650000,
    ["Job Job Job Sahur"] = 700000,
    ["Los Karkeritos"] = 750000,
    ["Graipuss Medussi"] = 1000000,
    ["Santteo"] = 800000,
    ["La Vacca Jacko Linterino"] = 850000,
    ["Triplito Tralaleritos"] = 875000,
    ["Trickolino"] = 900000,
    ["Giftini Spyderini"] = 999900,
    ["Los Spyderinis"] = 450000,
    ["Love Love Love Sahur"] = 1000000,
    ["Perrito Burrito"] = 1000000,
    ["1x1x1x1"] = 1100000,
    ["Los Cucarachas"] = 1200000,
    ["Please My Present"] = 1300000,
    ["Cuadramat and Pakrahmatmamat"] = 1400000,
    ["Los Jobcitos"] = 1500000,
    ["Nooo My Hotspot"] = 2000000,
    ["Pot Hotspot"] = 2500000,
    ["Noo My Examine"] = 1700000,
    ["Telemorte"] = 2000000,
    ["La Sahur Combinasion"] = 2000000,
    ["List List List Sahur"] = 2000000,
    ["To To To Sahur"] = 2500000,
    ["Pirulitoita Bicicletaire"] = 2500000,
    ["25"] = 2500000,
    ["Santa Hotspot"] = 2600000,
    ["Horegini Boom"] = 2700000,
    ["Quesadilla Crocodila"] = 3000000,
    ["Pot Pumpkin"] = 3000000,
    ["Naughty Naughty"] = 3000000,
    ["Cupid Cupid Sahur"] = 3100000,
    ["Ho Ho Ho Sahur"] = 3200000,
    ["Mi Gatito"] = 3200000,
    ["Chicleteira Bicicleteira"] = 3500000,
    ["Cupid Hotspot"] = 3500000,
    ["Spaghetti Tualetti"] = 6000000,
    ["Esok Sekolah"] = 30000000,
    ["Quesadillo Vampiro"] = 3500000,
    ["Brunito Marsito"] = 3500000,
    ["Chill Puppy"] = 4000000,
    ["Burrito Bandito"] = 4000000,
    ["Chicleteirina Bicicleteirina"] = 4000000,
    ["Los Quesadillas"] = 4500000,
    ["Bunito Bunito Spinito"] = 3000000,
    ["Noo My Candy"] = 5000000,
    ["Los Nooo My Hotspotsitos"] = 5000000,
    ["La Grande Combinassion"] = 10000000,
    ["Rang Ring Bus"] = 6000000,
    ["Guest 666"] = 6600000,
    ["Los Mi Gatitos"] = 6500000,
    ["Los Chicleteiras"] = 7000000,
    ["67"] = 7500000,
    ["Donkeyturbo Express"] = 7500000,
    ["Mariachi Corazoni"] = 12500000,
    ["Los Burritos"] = 8500000,
    ["Los 25"] = 10000000,
    ["Swag Soda"] = 13000000,
    ["Noo my Heart"] = 13000000,
    ["Chimnino"] = 14000000,
    ["Los Combinasionas"] = 15000000,
    ["Chicleteira Noelteira"] = 15000000,
    ["Fishino Clownino"] = 15500000,
    ["Tacorita Bicicleta"] = 16500000,
    ["Spinny Hammy"] = 17000000,
    ["Nuclearo Dinosauro"] = 15000000,
    ["Las Sis"] = 17500000,
    ["Chicleteira Cupideira"] = 17500000,
    ["La Karkerkar Combinasion"] = 17500000,
    ["Chillin Chili"] = 25000000,
    ["Chipso and Queso"] = 25000000,
    ["Money Money Reindeer"] = 25000000,
    ["Money Money Puggy"] = 21000000,
    ["Celularcini Viciosini"] = 22500000,
    ["Los Planitos"] = 18500000,
    ["Los Mobilis"] = 22000000,
    ["Los 67"] = 22500000,
    ["Mieteteira Bicicleteira"] = 26000000,
    ["Tuff Toucan"] = 26000000,
    ["La Spooky Grande"] = 24500000,
    ["Los Spooky Combinasionas"] = 20000000,
    ["Los Candies"] = 23000000,
    ["Los Hotspositos"] = 25000000,
    ["Los Jolly Combinasionas"] = 25000000,
    ["Los Puggies"] = 30000000,
    ["W or L"] = 30000000,
    ["Tralalalaledon"] = 37500000,
    ["La Extinct Grande"] = 23500000,
    ["Tralaledon"] = 27500000,
    ["La Jolly Grande"] = 30000000,
    ["Los Primos"] = 31000000,
    ["Bacuru and Egguru"] = 24000000,
    ["Eviledon"] = 31500000,
    ["Los Tacoritas"] = 32000000,
    ["Lovin Rose"] = 32500000,
    ["Tang Tang Kelentang"] = 33500000,
    ["Ketupat Kepat"] = 35000000,
    ["Los Bros"] = 37500000,
    ["Tictac Sahur"] = 37500000,
    ["La Romantic Grande"] = 40000000,
    ["Gingerat Gerat"] = 40000000,
    ["Orcaledon"] = 40000000,
    ["Ketchuru and Masturu"] = 42500000,
    ["Jolly Jolly Sahur"] = 45000000,
    ["Garama and Madundung"] = 50000000,
    ["Rosetti Tualetti"] = 50000000,
    ["Festive 67"] = 67000000,
    ["Love Love Bear"] = 140000000,
    ["La Ginger Sekolah"] = 75000000,
    ["Spooky and Pumpky"] = 80000000,
    ["Lavadorito Spinito"] = 45000000,
    ["Los Spaghettis"] = 70000000,
    ["La Casa Boo"] = 100000000,
    ["Fragrama and Chocrama"] = 100000000,
    ["La Secret Combinasion"] = 125000000,
    ["Reinito Sleighito"] = 140000000,
    ["Ketupat Bros"] = 145000000,
    ["Burguro And Fryuro"] = 150000000,
    ["Cooki and Milki"] = 155000000,
    ["Capitano Moby"] = 160000000,
    ["Rosey and Teddy"] = 165000000,
    ["Popcuru and Fizzuru"] = 170000000,
    ["Cerberus"] = 175000000,
    ["La Supreme Combinasion"] = 200000000,
    ["Dragon Cannelloni"] = 250000000,
    ["Dragon Gingerini"] = 300000000,
    ["Headless Horseman"] = 325000000,
    ["Hydra Dragon Cannelloni"] = 350000000,
    ["Skibidi Toilet"] = 400000000,
    ["Meowl"] = 500000000,
    ["Strawberry Elephant"] = 750000000

}

-- Your multipliers/tables
local mutationMultipliers = {
    ["None"] = 1,
    ["Gold"] = 1.25,
    ["Diamond"] = 1.5,
    ["Bloodrot"] = 2,
    ["Candy"] = 4,
    ["Lava"] = 6,
    ["Galaxy"] = 7,
    ["YinYang"] = 7.5,
    ["Radioactive"] = 8.5,
    ["Cursed"] = 9,
    ["Divine"] = 10,
    ["Rainbow"] = 10
}


local traits = {
    -- OG Event Traits
    ["Strawberry"] = 8,
    ["Meowl"] = 7,
    ["Skibidi"] = 6.5,
    [":3"] = 1.5,

    -- Seasonal Event Traits
    ["Reindeer"] = 6,
    ["Santa Hat"] = 5,
    ["Jack O' Lantern"] = 5.5,
    ["RIP Tombstone"] = 4.5,
    ["Witching Hour"] = 4.5,
    ["Extinct"] = 4,
    ["10B"] = 4,
    ["2026"] = 6,

    -- Ritual Event Traits
    ["Paint"] = 6,
    ["Tie"] = 4.75,
    ["Spider"] = 4.5,
    ["Matteo Hat"] = 4.5,
    ["Galactic"] = 4,
    ["Explosive"] = 4,
    ["Shark Fin"] = 4,

    -- Country Event Traits
    ["Brazil"] = 6,
    ["Indonesian"] = 5,
    ["Sombrero"] = 5, -- Mexico Hat / Sombrero

    -- Admin-Only Event Traits
    ["Fire"] = 6,
    ["Rose"] = 6,
    ["Fireworks"] = 6,
    ["Nyan"] = 6,
    ["Lightning"] = 6,
    ["Disco"] = 5,
    ["Glitched"] = 5,
    ["CrabClaw"] = 5, -- Crab Claw
    ["Tung Tung Attack"] = 5, -- Zombie / EvilTungTungSahur
    ["Bubblegum"] = 4,
    ["UFO"] = 3,
    ["Taco"] = 3,

    -- Natural Event Traits
    ["Comet-struck"] = 3.5,
    ["Snowy"] = 3,
    ["Wet"] = 2.5,

    -- Worst Trait
    ["Sleepy"] = 0.5, -- Ã·2
}

--// TRAIT ALIASES (game/internal names -> canonical keys above)
-- Add to this whenever you see "Unknown trait detected: X"
local traitAliases = {
    -- Strawberry / Meowl / Skibidi
    ["ICON Meowl"] = "Meowl",
    ["SkibidiIcon"] = "Skibidi",
    ["Strawberry Strawberry"] = "Strawberry",
    [":3"] = ":3",
    [" :3"] = ":3",
    [":3 "] = ":3",

    -- Seasonal
    ["SantaHatIcon"] = "Santa Hat",
    ["Jack-o-Lantern Pet Trait"] = "Jack O' Lantern",
    ["GraveYard-RIP-Tombstone"] = "RIP Tombstone",
    ["Witchhat"] = "Witching Hour",
    ["Extincty"] = "Extinct",
    ["10b"] = "10B",
    ["2026Trait"] = "2026",
    ["2026Trait26"] = "2026",

    -- Ritual
    ["Chicleteirabicicleteira"] = "Paint",
    ["MatteoHat"] = "Matteo Hat",
    ["Comet2"] = "Galactic",
    ["Bombardiro"] = "Explosive",

    -- Country
    ["Mexico Hat"] = "Sombrero",

    -- Admin-only / other common in-game wording
    ["Dragon"] = "Lightning",
    ["Lightning Dragon"] = "Lightning",
    ["Alienevent"] = "UFO",
    ["AlieneventUFO"] = "UFO",
    ["Glitch"] = "Glitched",
    ["Crab Claw"] = "CrabClaw",
    ["Claw"] = "CrabClaw",
    ["Claws"] = "CrabClaw", -- your webhook shows this
    ["EvilTungTungSahur"] = "Tung Tung Attack",
    ["Zombie"] = "Tung Tung Attack",
    ["Reindeer Pet"] = "Reindeer",
    -- Natural
    ["Cometstruck"] = "Comet-struck",
    ["CometstruckComet-struck"] = "Comet-struck",
    ["WetRain"] = "Wet",
    ["SnowySnowy"] = "Snowy",

    -- Worst
    ["SleepySleepy"] = "Sleepy",
}


--// GIST UPLOADER
local HttpService = game:GetService("HttpService")

local function getRequest()
    return (syn and syn.request)
        or (http and http.request)
        or http_request
        or request
end

local currentGistData = {
    jobId = game.JobId,
    placeId = game.PlaceId,
    timestamp = os.time(),
    playerCount = 0,
    brainrots = {}
}

-- ðŸ”¹ Load existing Gist data on startup
local function loadExistingGist()
    if GIST_ID == "" then return end -- No existing Gist to load
    
    local req = getRequest()
    if not req then return end
    
    local success, result = pcall(function()
        local response = req({
            Url = "https://api.github.com/gists/" .. GIST_ID,
            Method = "GET",
            Headers = {
                ["Authorization"] = "token " .. GITHUB_TOKEN,
                ["User-Agent"] = "Roblox-Brainrot-Scanner"
            }
        })
        
        if response.StatusCode == 200 then
            local data = HttpService:JSONDecode(response.Body)
            local fileContent = data.files[GIST_FILENAME].content
            local gistData = HttpService:JSONDecode(fileContent)
            
            -- Merge existing brainrots
            currentGistData.brainrots = gistData.brainrots or {}
            print("[Gist] Loaded", #currentGistData.brainrots, "existing entries")
        end
    end)
    
    if not success then
        warn("[Gist] Failed to load existing data:", result)
    end
end

-- Load existing data before scanning starts
task.spawn(loadExistingGist)

local function updateGist()
    if not UPDATE_GIST or GITHUB_TOKEN == "" then
        return
    end

    local req = getRequest()
    if not req then
        warn("[Gist] No HTTP request function available")
        return
    end

    -- Update player count
    currentGistData.playerCount = #Players:GetPlayers()
    currentGistData.timestamp = os.time()

    local gistContent = HttpService:JSONEncode(currentGistData)

    local gistPayload = {
        description = "Brainrot Server Info - " .. player.Name,
        public = false,
        files = {
            [GIST_FILENAME] = {
                content = gistContent
            }
        }
    }

    local url, method
    if GIST_ID == "" then
        -- Create new Gist
        url = "https://api.github.com/gists"
        method = "POST"
    else
        -- Update existing Gist
        url = "https://api.github.com/gists/" .. GIST_ID
        method = "PATCH"
    end

    local success, result = pcall(function()
        local response = req({
            Url = url,
            Method = method,
            Headers = {
                ["Authorization"] = "token " .. GITHUB_TOKEN,
                ["Content-Type"] = "application/json",
                ["User-Agent"] = "Roblox-Brainrot-Scanner"
            },
            Body = HttpService:JSONEncode(gistPayload)
        })

        if response.StatusCode == 200 or response.StatusCode == 201 then
            local data = HttpService:JSONDecode(response.Body)
            
            -- Save Gist ID if we just created it
            if GIST_ID == "" then
                GIST_ID = data.id
                print("[Gist] Created new Gist:", GIST_ID)
                print("[Gist] Raw URL:", data.files[GIST_FILENAME].raw_url)
            else
                print("[Gist] Updated successfully")
            end
            
            return true
        else
            warn("[Gist] Failed:", response.StatusCode, response.Body)
            return false
        end
    end)

    if not success then
        warn("[Gist] Error updating:", result)
    end
end

-- Queue Gist updates (don't spam GitHub API)
local gistUpdateQueued = false
local function queueGistUpdate()
    if gistUpdateQueued then return end
    gistUpdateQueued = true

    task.delay(1, function() -- Update every 5 seconds max
        gistUpdateQueued = false
        updateGist()
    end)
end

--// HELPERS
local function clampStr(s, maxLen)
    s = tostring(s or "")
    if #s > maxLen then
        return s:sub(1, maxLen - 3) .. "..."
    end
    return s
end

local function short(n)
    n = tonumber(n) or 0

    local abs = math.abs(n)
    local suffixes = {
        {1e12, "T"},
        {1e9, "B"},
        {1e6, "M"},
        {1e3, "K"}
    }

    for _, s in ipairs(suffixes) do
        local value, suffix = s[1], s[2]
        if abs >= value then
            local num = n / value
            return string.format("%.2f", num):gsub("%.00$", "") .. suffix
        end
    end

    return tostring(n)
end

local function normalizeMutation(m)
    m = tostring(m or "Default")
    m = m:gsub("%s+", "") -- optional: remove spaces
    -- Force consistent casing for common ones
    local map = {
        default = "Default",
        gold = "Gold",
        diamond = "Diamond",
        bloodrot = "Bloodrot",
        candy = "Candy",
        lava = "Lava",
        galaxy = "Galaxy",
        yinyang = "YinYang",
        radioactive = "Radioactive",
        cursed = "Cursed",
        divine = "Divine",
        rainbow = "Rainbow",
    }
    return map[m:lower()] or m
end

local function normalizeBrainrotName(raw)
    raw = tostring(raw or "")
    raw = raw:gsub("%b[]", "")
    raw = raw:gsub("%b()", "")
    raw = raw:gsub("^%s+", ""):gsub("%s+$", "")
    return raw
end

local function normalizeKey(raw)
    return normalizeBrainrotName(raw):lower()
end

local function comma(n)
    local s = tostring(math.floor(tonumber(n) or 0))
    return s:reverse():gsub("(%d%d%d)", "%1,"):reverse():gsub("^,", "")
end

local function parseTraits(traitString)
    if not traitString then return {} end

    local result, seen = {}, {}

    for part in string.gmatch(tostring(traitString), "[^,]+") do
        local clean = part
            :gsub("%s*[xX]%d+", "")     -- remove " x2" / "X3" if it ever appears
            :gsub("^%s+", ""):gsub("%s+$", "") -- trim

        if clean ~= "" and not seen[clean] then
            seen[clean] = true
            table.insert(result, clean)
        end
    end

    return result
end


-- âœ… BEST: Attribute -> ValueObject -> Descendants -> Name tags
local function getMutation(obj)
    if not obj then return nil end

    -- 1) Attribute
    local attr = obj:GetAttribute("Mutation")
    if attr ~= nil then return tostring(attr) end

    -- 2) ValueObject direct
    local v = obj:FindFirstChild("Mutation")
    if v and v:IsA("ValueBase") then
        return tostring(v.Value)
    end

    -- 3) ValueObject anywhere inside model
    for _, d in ipairs(obj:GetDescendants()) do
        if d.Name == "Mutation" and d:IsA("ValueBase") then
            return tostring(d.Value)
        end
    end

    -- 4) Parse from name tags
    local tag = obj.Name:match("%[(.-)%]") or obj.Name:match("%((.-)%)")
    if tag then return tag end

    return nil
end

local function getTrait(obj)
    if not obj then return nil end

    -- 1) Attribute
    local attr = obj:GetAttribute("Traits")
    if attr ~= nil then return tostring(attr) end

    -- 2) ValueObject direct
    local v = obj:FindFirstChild("Traits")
    if v and v:IsA("ValueBase") then
        return tostring(v.Value)
    end

    -- 3) ValueObject anywhere inside model
    for _, d in ipairs(obj:GetDescendants()) do
        if d.Name == "Traits" and d:IsA("ValueBase") then
            return tostring(d.Value)
        end
    end

    return nil
end

local function computeIncome(baseIncome, mutation, traitString)
    local base = tonumber(baseIncome) or 0

    mutation = normalizeMutation(mutation)
    local mMult = mutationMultipliers[mutation] or 1

    local rawTraits = parseTraits(traitString)

    local mults = {}
    local displayTraits = {}
    local seen = {}

    for _, rawTrait in ipairs(rawTraits) do
        local tName = traitAliases[rawTrait] or rawTrait  -- âœ… map for BOTH calc + display

        -- for calculation
        local tMult = traits[tName]
        if tMult then
            table.insert(mults, tMult)
        else
            warn("[Brainrot] Unknown trait:", rawTrait, "mapped:", tName)
        end

        -- for webhook display (dedupe)
        if not seen[tName] then
            seen[tName] = true
            table.insert(displayTraits, tName)
        end
    end

    -- include mutation only if it actually does something
    if mMult > 1 then
        table.insert(mults, mMult)
    end

    if #mults == 0 then
        return base, displayTraits
    end

    table.sort(mults, function(a,b) return a > b end)

    local sum = mults[1]
    for i = 2, #mults do
        local reduced = mults[i] - 1
        if reduced > 0 then
            sum += reduced
        end
    end

    return math.floor(base * sum), displayTraits
end

--// LOOKUP SET (normalized)
local brainrotSet = {}
for _, n in ipairs(brainrots) do
    brainrotSet[normalizeKey(n)] = true
end

local function normKey(s)
    return normalizeKey(s)
end

local function normalizeMap(map)
    local out = {}
    for k, v in pairs(map) do
        out[normKey(k)] = v
    end
    return out
end

rarityByName = normalizeMap(rarityByName)
costByName   = normalizeMap(costByName)
incomeByName = normalizeMap(incomeByName)

local newPing = {}
for name,_ in pairs(PING_NAMES) do
    newPing[normKey(name)] = true
end
PING_NAMES = newPing

--// WEBHOOK
local HttpService = game:GetService("HttpService")

local function getRequest()
    return (syn and syn.request)
        or (http and http.request)
        or http_request
        or request
end

-- Discord limits
local MAX_FIELDS_PER_EMBED = 25
local MAX_EMBEDS_PER_MESSAGE = 10

local function chunkArray(arr, chunkSize)
    local out = {}
    for i = 1, #arr, chunkSize do
        local chunk = {}
        for j = i, math.min(i + chunkSize - 1, #arr) do
            table.insert(chunk, arr[j])
        end
        table.insert(out, chunk)
    end
    return out
end

local function sendWebhookPayload(req, payload)
    local res = req({
        Url = WEBHOOK_URL,
        Method = "POST",
        Headers = { ["Content-Type"] = "application/json" },
        Body = HttpService:JSONEncode(payload)
    })
    print("Webhook status:", res and res.StatusCode, "body:", res and res.Body)
    return res
end

local function sendWebhookGrouped(entries)
    if type(entries) ~= "table" or #entries == 0 then return end

    local req = getRequest()
    if not req then
        warn("Webhook: no request function found")
        return
    end

    -- group by rarity
    local groups = {}
    for _, e in ipairs(entries) do
        local r = e.rarity or "Unknown"
        groups[r] = groups[r] or {}
        table.insert(groups[r], e)
    end

    -- order rarities (define somewhere above!)
    -- RARITY_ORDER = { Secret=4, God=3, Burat=2, OG=1, Unknown=0 }
    local rarities = {}
    for r,_ in pairs(groups) do table.insert(rarities, r) end
    table.sort(rarities, function(a,b)
        return (RARITY_ORDER[a] or 0) > (RARITY_ORDER[b] or 0)
    end)

    local t = os.date("!*t")
    local timestamp = string.format("%04d-%02d-%02dT%02d:%02d:%02dZ", t.year, t.month, t.day, t.hour, t.min, t.sec)
    local playerCount = #game:GetService("Players"):GetPlayers()

    -- Build ALL embeds first, then send them in chunks of 10 embeds per webhook
    local allEmbeds = {}

    for _, rarity in ipairs(rarities) do
        local bucket = groups[rarity]

        -- sort inside rarity by income desc
        table.sort(bucket, function(a,b)
            return (a.income or 0) > (b.income or 0)
        end)

        -- brainrot fields (1 field per brainrot)
        local brainrotFields = {}
        for _, e in ipairs(bucket) do
            local fname = ("ðŸ’µ %s/s"):format(short(e.income))
            local fval  = e.line

            table.insert(brainrotFields, {
                name = clampStr(fname, 256),
                value = clampStr(fval, 1024),
                inline = false
            })
        end
        -- chunk brainrots into embeds (25 fields max), BUT we also want JobId + Players fields
        -- so reserve 2 fields for those => only 23 brainrot fields per embed
        local PER_EMBED_BRAINROT_FIELDS = MAX_FIELDS_PER_EMBED - 2
        local fieldChunks = chunkArray(brainrotFields, PER_EMBED_BRAINROT_FIELDS)

        for idx, fchunk in ipairs(fieldChunks) do
            -- append the copy-friendly fields at the bottom of EACH embed
            table.insert(fchunk, {
                name = "Server ID",
                value = "```" .. game.JobId .. "```",
                inline = false
            })

            table.insert(allEmbeds, {
                title = (#fieldChunks > 1)
                    and ("Found Brainrots â€” %s (%d/%d)"):format(rarity, idx, #fieldChunks)
                    or  ("Found Brainrots â€” %s"):format(rarity),

                url = "https://www.roblox.com/games/start?placeId=109983668079237&gameInstanceId="..game.JobId,

                description = "",

                color = RARITY_COLOR[rarity] or RARITY_COLOR["Unknown"],

                thumbnail = {url = "https://static.wikia.nocookie.net/stealabr/images/e/e3/Tung_Tung_Tung_Sahur.png/revision/latest?cb=20260125163843"},

                footer = {text = player.Name .. " | " .. tostring(playerCount) .. "/8ðŸ‘¤"},

                fields = fchunk,

                timestamp = timestamp
            })
        end
    end

    -- âœ… Multi-send: split embeds into batches of 10 embeds per webhook message
    local embedBatches = chunkArray(allEmbeds, MAX_EMBEDS_PER_MESSAGE)

    for i, embedBatch in ipairs(embedBatches) do
        -- only ping on the FIRST message (so you don't spam @everyone multiple times)
        local contentForThis = (i == 1) and Content or ""

        local payload = {
            content = contentForThis,
            username = "Cly Notify",
            avatar_url = "https://assets.teenvogue.com/photos/5d4daf13b068cf00080a03f7/16:9/w_2560%2Cc_limit/00-story-diddy.jpg",
            embeds = embedBatch,
            allowed_mentions = (contentForThis ~= "" and { parse = {"everyone"} } or { parse = {} })
        }

        sendWebhookPayload(req, payload)

        -- small delay so Discord doesn't rate limit you as hard
        if i < #embedBatches then
            task.wait(0.35)
        end
    end
end

-- batch sending
local globalFound = {}
local webhookQueued = false


local function queueWebhookSend()
    if webhookQueued then return end
    webhookQueued = true

    task.delay(SEND_DELAY, function()
        webhookQueued = false
        if #globalFound == 0 then return end

        -- âœ… set ping content here (only once per batch)
        Content = globalShouldPing and "@everyone" or ""

        sendWebhookGrouped(globalFound)

        table.clear(globalFound)
        globalShouldPing = false
        Content = "" -- reset
    end)
end

--// SCANNING (per plot)
local reported = {}   -- reported[plot][key] = true
local scanQueued = {} -- scanQueued[plot] = true
local plotConns = {} -- plotConns[plot] = RBXScriptConnection


--// Modified scanPlot to update Gist
local function scanPlot(plot)
    if not plot or not plot.Parent then return end
    reported[plot] = reported[plot] or {}

    local foundList = {}

    for _, obj in ipairs(plot:GetDescendants()) do
        if obj:IsA("Model") then
            local displayName = normalizeBrainrotName(obj.Name)
            local cleanName = normalizeKey(displayName)

            if brainrotSet[cleanName] then
                local mutation = getMutation(obj)
                local trait = getTrait(obj)

                local key = cleanName .. "|" .. (mutation or "None") .. "|" .. (trait or "None")
                if not reported[plot][key] then
                    reported[plot][key] = true

                    local rarity = rarityByName[cleanName] or "Unknown"
                    local cost = costByName[cleanName] or 0
                    local baseIncome = incomeByName[cleanName] or 0

                    local finalIncome, traitList = computeIncome(baseIncome, mutation, trait)
if finalIncome >= MIN_INCOME then
    local traitText = (#traitList > 0) and table.concat(traitList, ", ") or "None"
    local mutationText = mutation or "None"
    -- Check if this should trigger ping (high-value)
    local shouldPing = finalIncome >= PING_MIN or PING_NAMES[cleanName]
    
                        if shouldPing then
                            globalShouldPing = true
                            
                            -- ðŸ”¹ Only add to Gist if it's ping-worthy
                            table.insert(currentGistData.brainrots, {
                                name = displayName,
                                rarity = rarity,
                                mutation = mutationText,
                                traits = traitText,
                                income = finalIncome,
                                cost = cost,
                                serverId = game.JobId,  -- Needed for cleanup
                                foundAt = os.time()     -- Needed for cleanup
                            })
                        end

                        local label = ("**%s** | **%s** | ðŸ§¬ **%s** | ðŸ’° **$%s** | ðŸŒ€ **%s**" )
                            :format(displayName, rarity, mutationText, short(cost), traitText)

                        table.insert(foundList, {
                            rarity = rarity,
                            income = finalIncome,
                            line = label
                        })
                    end
                end
            end
        end
    end

    if #foundList > 0 then
        for _, line in ipairs(foundList) do
            table.insert(globalFound, line)
        end
        queueWebhookSend()
        queueGistUpdate() -- ðŸ”¹ Update Gist when brainrots found
        print("found in plot:", plot.Name, "count:", #foundList)
    end
end

local function hookPlot(plot)

    -- ðŸ”¹ disconnect old connection if this plot was already hooked
    if plotConns[plot] then
        plotConns[plot]:Disconnect()
        plotConns[plot] = nil
    end

    -- ðŸ”¹ initial scan
    scanPlot(plot)

    -- ðŸ”¹ connect listener
    plotConns[plot] = plot.DescendantAdded:Connect(function()
        if scanQueued[plot] then return end
        scanQueued[plot] = true

        task.delay(SCAN_DELAY, function()
            scanQueued[plot] = nil
            if plot and plot.Parent then
                scanPlot(plot)
            end
        end)
    end)
end

-- hook existing
for _, plot in ipairs(plotsFolder:GetChildren()) do
    hookPlot(plot)
end

-- hook new
plotsFolder.ChildAdded:Connect(function(plot)
    task.delay(0.1, function()
        hookPlot(plot)
    end)
end)

plotsFolder.ChildRemoved:Connect(function(plot)
    reported[plot] = nil
    scanQueued[plot] = nil

    if plotConns[plot] then
        plotConns[plot]:Disconnect()
        plotConns[plot] = nil
    end
end)

-- ðŸ”¹ Initial Gist update
task.delay(2, function()
    updateGist()
end)

-- ðŸ”¹ Periodic Gist updates (keep it fresh)
task.spawn(function()
    while true do
        task.wait(10) -- Update every 30 seconds
        if #currentGistData.brainrots > 0 then
            updateGist()
        end
    end
end)

-- ðŸ”¹ Clean up old entries (ADD THIS NEW SECTION)
task.spawn(function()
    while true do
        task.wait(60) -- Check every 1 minute
        
        local now = os.time()
        local cleaned = {}
        local seen = {}
        
        for _, brainrot in ipairs(currentGistData.brainrots) do
            local age = now - brainrot.foundAt
            
            if age < 300 then -- Keep if less than 5 minutes old
                local key = brainrot.serverId .. "|" .. brainrot.name .. "|" .. brainrot.mutation
                
                if not seen[key] then
                    seen[key] = true
                    table.insert(cleaned, brainrot)
                end
            end
        end
        
        local removed = #currentGistData.brainrots - #cleaned
        if removed > 0 then
            currentGistData.brainrots = cleaned
            updateGist()
            print("[Gist] Cleaned", removed, "old entries. Active:", #cleaned)
        end
    end
end)
